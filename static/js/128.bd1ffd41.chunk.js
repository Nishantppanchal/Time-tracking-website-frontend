"use strict";(self.webpackChunkreactjs=self.webpackChunkreactjs||[]).push([[128],{30606:function(e,t,n){var i=n(13778),r=n(2214),s=n(59286);t.Z=function(e){s.Z.get("clientProjectGet/").then((function(t){i.Z.dispatch((0,r.jm)(t.data)),e(!1)})).catch((function(t){console.error(t.response),"Invalid token header. No credentials provided."===t.response.data.detail&&(i.Z.dispatch((0,r.jm)(t.response.data.requestData.data)),e(!1))}))}},19128:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var i=n(37762),r=n(70885),s=n(61889),a=n(72791),c=(n(79251),n(30606)),l=n(60364),o=n(46508),d=n(4708),p=n(20890),u=n(27247),h=n(41286),x=n(68870),j=n(36151),f=n(47924),Z=n(13400),m=n(34385),v=n(10703),y=n(53767),g=n(16871),C=n(59286),w=n(2214),D=n(80184);var P=function(e){var t=(0,g.s0)(),n=(0,l.I0)(),i=(0,a.useState)(!1),s=(0,r.Z)(i,2),c=s[0],o=s[1],d=(0,a.useState)(null),P=(0,r.Z)(d,2),b=P[0],k=P[1];function I(e){e.preventDefault(),o(!1)}return(0,D.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,D.jsx)(y.Z,{direction:"column",spacing:0,divider:(0,D.jsx)(f.Z,{orientation:"horizontal",flexItem:!0}),sx:{maxWidth:"600px",width:"80%"},children:e.CPData.map((function(n,i){return(0,D.jsxs)(y.Z,{direction:"row",spacing:1,sx:{display:"flex",alignItems:"center"},children:[(0,D.jsx)(p.Z,{variant:"body1",sx:{width:"25%"},children:n.name}),(0,D.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"end",width:"75%"},children:[(0,D.jsx)(Z.Z,{"aria-label":"edit",onClick:function(e){!function(e,t){e.preventDefault(),o(!0),k(t)}(e,n.id)},children:(0,D.jsx)(u.Z,{})}),(0,D.jsx)(Z.Z,{"aria-label":"delete",onClick:function(i){!function(n,i){n.preventDefault(),"client"===e.type?t("/clients-and-projects/edit/clients/"+i):"project"===e.type&&t("/clients-and-projects/edit/projects/"+i)}(i,n.id)},children:(0,D.jsx)(h.Z,{})})]})]},i)}))}),(0,D.jsx)(m.Z,{open:c,onClose:I,children:(0,D.jsxs)(v.Z,{sx:{padding:"0.5rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"20rem",backgroundColor:"background.paper"},children:[(0,D.jsxs)(p.Z,{variant:"h6",align:"center",margin:"0.5rem",children:["WOULD YOU LIKE TO DELETE THIS ",e.type.toUpperCase()]}),(0,D.jsxs)(p.Z,{variant:"body1",align:"center",margin:"0.5rem",children:["Deleting this ",e.type," will mean that you will not be able to recover it again. This will PERMANENTLY delete the ",e.type,"."]}),(0,D.jsxs)(y.Z,{direction:"row",spacing:1,justifyContent:"flex-end",marginTop:"0.5rem",children:[(0,D.jsx)(j.Z,{variant:"text",onClick:I,children:"CANCEL"}),(0,D.jsx)(j.Z,{variant:"text",onClick:function(t){var i="";"client"===e.type?i="CRUD/clients/"+b+"/":"project"===e.type&&(i="CRUD/projects/"+b+"/"),C.Z.delete(i),"client"===e.type?n((0,w.NB)({id:b,type:"clients"})):"project"===e.type&&n((0,w.NB)({id:b,type:"projects"})),I(t)},sx:{color:"#FF6961"},children:"CONFIRM"})]})]})})]})},b=n(23923);var k=function(){var e=(0,l.v9)((function(e){return e.CPData.value})),t=(0,a.useState)(!(e.length>0)),n=(0,r.Z)(t,2),u=n[0],h=n[1],x=(0,a.useState)([]),j=(0,r.Z)(x,2),f=j[0],Z=j[1],m=(0,a.useState)([]),v=(0,r.Z)(m,2),y=v[0],g=v[1];return(0,a.useEffect)((function(){var t,n=[],r=[],s=(0,i.Z)(e);try{for(s.s();!(t=s.n()).done;){var a=t.value;"clients"===a.type?n.push(a):r.push(a)}}catch(c){s.e(c)}finally{s.f()}Z(n),g(r)}),[e]),(0,a.useEffect)((function(){!0===u&&(0,c.Z)(h)}),[]),u?(0,D.jsx)(b.Z,{}):(0,D.jsxs)("div",{width:"100%",children:[(0,D.jsx)(d.ZP,{}),(0,D.jsx)(o.Z,{page:"clients and projects"}),(0,D.jsxs)(s.ZP,{container:!0,spacing:2,justifyContent:"center",alignItems:"flex-start",margin:"1rem",width:"auto",children:[(0,D.jsx)(s.ZP,{item:!0,xs:6,children:(0,D.jsx)(p.Z,{variant:"h6",width:"100%",align:"center",children:"Clients"})}),(0,D.jsx)(s.ZP,{item:!0,xs:6,children:(0,D.jsx)(p.Z,{variant:"h6",width:"100%",align:"center",children:"Projects"})}),(0,D.jsx)(s.ZP,{item:!0,xs:6,children:(0,D.jsx)(P,{CPData:f,type:"client"})}),(0,D.jsx)(s.ZP,{item:!0,xs:6,children:(0,D.jsx)(P,{CPData:y,type:"project"})})]})]})}}}]);
//# sourceMappingURL=128.bd1ffd41.chunk.js.map